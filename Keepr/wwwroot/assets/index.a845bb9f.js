import{r as se,c as v,a as f,o as r,b as d,d as o,e as b,F as x,f as ne,S as G,g as ie,u as T,M as $,h as P,t as p,i as I,j as S,p as E,k as M,l as B,w as O,m as K,v as C,n as D,q as le,s as ce,x as re,y as de,z as ue,A as Y,B as _e,C as pe,D as me}from"./vendor.00b2d2ca.js";const ve=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))t(c);new MutationObserver(c=>{for(const u of c)if(u.type==="childList")for(const i of u.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function a(c){const u={};return c.integrity&&(u.integrity=c.integrity),c.referrerpolicy&&(u.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?u.credentials="include":c.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function t(c){if(c.ep)return;c.ep=!0;const u=a(c);fetch(c.href,u)}};ve();const n=se({user:{},account:{},keeps:[],activeKeep:[],activeProfile:{},activeProfileKeeps:[],activeProfileVaults:[],activeVault:{},activeVaultKeeps:[],myVaults:[]});var V=(s,e)=>{for(const[a,t]of e)s[a]=t;return s};const ge={name:"App",setup(){return{appState:v(()=>n)}}},he={class:"bg-white"},fe=ne('<div class="fab-container"><div class="fab fab-icon"><i class="mdi mdi-plus fs-3"></i></div><ul class="fab-options"><li><span class="fab-label">Create Keep</span><div type="button" data-bs-toggle="modal" data-bs-target="#create-keep" class="fab-icon"><i class="mdi mdi-plus"></i></div></li><li><span class="fab-label">Create Vault</span><div type="button" data-bs-toggle="modal" data-bs-target="#vault" class="fab-icon"><i class="mdi mdi-plus"></i></div></li></ul></div>',1);function be(s,e,a,t,c,u){const i=f("Navbar"),m=f("router-view"),_=f("CreateKeepModal"),w=f("VaultModal");return r(),d(x,null,[o("header",null,[b(i)]),o("main",he,[b(m)]),fe,b(_),b(w)],64)}var ye=V(ge,[["render",be]]);const W=window.location.origin.includes("localhost"),F=W?"https://localhost:5001":"",ke="dev-k0ett2hk.us.auth0.com",we="duZCEjAYwATyvUJravqqcShyEj95dzss",Ve="https://DiegoDev.com";function U(s,e){if(W)console[s](`[${s}] :: ${new Date().toLocaleTimeString()} :: `,...e);else{switch(s){case"log":case"assert":return}console[s](`[${s}] :: ${new Date().toLocaleTimeString()} :: `,...e)}}const l={log(){U("log",arguments)},error(){U("error",arguments)},warn(){U("warn",arguments)},assert(){U("assert",arguments)},trace(){U("trace",arguments)}};class h{static async confirm(e="Are you sure?",a="You won't be able to revert this!",t="warning",c="Yes, delete it!"){try{return!!(await G.fire({title:e,text:a,icon:t,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:c})).isConfirmed}catch{return!1}}static toast(e="Warning!",a="warning",t="top-end",c=3e3,u=!0){G.fire({title:e,icon:a,position:t,timer:c,timerProgressBar:u,toast:!0,showConfirmButton:!1})}static error(e){var a;if(e.isAxiosError){const{response:t}=e;this.toast(((a=t.data.error)==null?void 0:a.message)||t.data.message,"error")}else this.toast(e.message||e,"error")}static success(e="Success!"){this.toast(e,"success")}}const g=ie.create({baseURL:F,timeout:8e3});class xe{async getAllKeeps(e={}){const a=await g.get("api/keeps/",{params:e});l.log(a.data),n.keeps=a.data}async createKeep(e){const a=await g.post("api/keeps",e);l.log(a.data),n.activeProfileKeeps.push(a.data),n.keeps.push(a.data)}async setActive(e){const a=await g.get("api/keeps/"+e);l.log(a.data),a.data.views+=1,n.activeKeep=a.data}async searchKeep(e=""){const a=await g.get(`api/keeps?query=${e}`);l.log(a.data),n.keeps=a.data}async deleteKeep(e){const a=await g.delete("api/keeps/"+e);l.log(a.data),n.keeps=n.keeps.filter(t=>t.id!=e)}}const A=new xe;class $e{async getKeeps(e){const a=await g.get(`api/vaults/${e}/keeps`);l.log(a.data),n.activeVaultKeeps=a.data,l.log(n.activeProfileVaults,"[AppState]")}async create(e){const a=await g.post("api/vaultkeeps",e);l.log(a.data),n.activeKeep.kept++,n.activeVaultKeeps.push(a.data)}async deleteVaultKeep(e){const a=await g.delete("api/vaultkeeps/"+e);l.log(a.data),n.activeVaultKeeps=n.activeVaultKeeps.filter(t=>t.vaultKeepId!=e)}}const q=new $e;const Ke={setup(){const s=T();return{async createVaultKeep(e){try{await q.create(e),$.getOrCreateInstance(document.getElementById("active-keep")).hide()}catch(a){l.log(a),h.toast(a.message)}},async deleteKeep(e){try{await h.confirm("This action is irreversible")&&await A.deleteKeep(e),$.getOrCreateInstance(document.getElementById("active-keep")).hide()}catch(a){l.log(a),h.toast(a.message)}},goToProfile(){s.push({name:"Profile",params:{id:n.activeKeep.creator.id}}),$.getOrCreateInstance(document.getElementById("active-keep")).hide()},keep:v(()=>n.activeKeep),vault:v(()=>n.myVaults),account:v(()=>n.account)}}},L=s=>(E("data-v-9d6e8222"),s=s(),M(),s),Pe={class:"container"},Ce={class:"row"},Te={class:"col-md-6 p-0"},Se=["src"],Ae={class:"col-md-6"},Ie={class:"text-center pt-3 fs-5"},Ee=L(()=>o("i",{title:"Total Views",class:"mdi mdi-eye-outline text-info pe-1"},null,-1)),Me=L(()=>o("i",{title:"Total Kept's",class:"mdi mdi-book-outline text-info ps-5 pe-1"},null,-1)),Oe={class:"text-center pt-4"},De={class:"text-center description scrollable-y"},Ue={class:"pb-3 mx-3 border-1 border-bottom border-secondary"},Ne={class:"d-flex justify-content-between pt-4 buttons"},je={class:"dropdown"},Be=L(()=>o("button",{title:"Add to vault",class:"text-info btn btn-white border border-info border-2 dropdown-toggle",type:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," ADD TO VAULT ",-1)),qe={class:"dropdown-menu"},Le=["onClick"],Re={key:0},ze={class:"pt-2"},He=["src"],Ge={class:"ms-2"};function Ye(s,e,a,t,c,u){var i,m,_;return r(),d("div",Pe,[o("div",Ce,[o("div",Te,[o("img",{class:"img-fluid img-keep",src:t.keep.img,alt:""},null,8,Se)]),o("div",Ae,[o("div",Ie,[Ee,P(p(t.keep.views),1),Me,P(p(t.keep.kept),1)]),o("div",Oe,[o("h1",null,p(t.keep.name),1)]),o("div",De,[o("div",Ue,p(t.keep.description),1)]),o("div",Ne,[o("div",null,[o("div",je,[Be,o("ul",qe,[(r(!0),d(x,null,I(t.vault,w=>(r(),d("li",{key:w.id},[o("a",{onClick:y=>t.createVaultKeep({keepId:t.keep.id,vaultId:w.id}),class:"dropdown-item",href:"#"},p(w.name),9,Le)]))),128))])])]),((i=t.keep.creator)==null?void 0:i.id)==t.account.id?(r(),d("div",Re,[o("i",{title:"Delete Keep",onClick:e[0]||(e[0]=w=>t.deleteKeep(t.keep.id)),class:"mdi mdi-delete-outline text-danger fs-3 selectable"})])):S("",!0),o("div",ze,[o("img",{title:"Go To Profile",onClick:e[1]||(e[1]=(...w)=>t.goToProfile&&t.goToProfile(...w)),class:"img-fluid img-profile selectable",src:(m=t.keep.creator)==null?void 0:m.picture,alt:""},null,8,He),o("span",Ge,p((_=t.keep.creator)==null?void 0:_.name),1)])])])])])}var We=V(Ke,[["render",Ye],["__scopeId","data-v-9d6e8222"]]),Fe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:We});const Je={setup(){const s=B({});return{keepData:s,async createKeep(){try{await A.createKeep(s.value),$.getOrCreateInstance(document.getElementById("create-keep")).hide(),document.getElementById("keep-form").reset()}catch(e){l.log(e),h.toast(e.message,"Oh no! Something went wrong")}}}}},Qe={class:"modal fade half-black",tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true",id:"create-keep"},Ze={class:"modal-dialog",role:"document"},Xe={class:"modal-content half-black border-2 border-info"},et=o("div",{class:"modal-header bg text-dark"},[o("h5",{class:"modal-title"},"New Keep"),o("button",{type:"button",class:"btn-close btn btn-light bg-light","data-bs-dismiss":"modal","aria-label":"Close"})],-1),tt={class:"modal-body"},ot={class:"row"},at={class:"col-md-12 pt-2"},st=o("label",{for:"name"},"Name",-1),nt={class:"col-md-12 pt-4"},it=o("label",{for:"img"},"Image Url",-1),lt={class:"col-md-12 pt-4"},ct=o("label",{for:"img"},"Image Url",-1),rt=o("div",{class:"text-end pt-3"},[o("button",{type:"submit",class:"btn btn-info"},"Create")],-1);function dt(s,e,a,t,c,u){return r(),d("div",Qe,[o("div",Ze,[o("div",Xe,[et,o("div",tt,[o("form",{action:"",onSubmit:e[3]||(e[3]=O((...i)=>t.createKeep&&t.createKeep(...i),["prevent"])),id:"keep-form"},[o("div",ot,[o("div",at,[st,K(o("input",{required:"true",type:"text",class:"form-control bg-white",placeholder:"Name...","onUpdate:modelValue":e[0]||(e[0]=i=>t.keepData.name=i)},null,512),[[C,t.keepData.name]])]),o("div",nt,[it,K(o("input",{required:"true",type:"text",class:"form-control bg-white",placeholder:"Url...","onUpdate:modelValue":e[1]||(e[1]=i=>t.keepData.img=i)},null,512),[[C,t.keepData.img]])]),o("div",lt,[ct,K(o("textarea",{required:"true",name:"description",class:"w-100 form-control bg-white",rows:"5",placeholder:"Description...","onUpdate:modelValue":e[2]||(e[2]=i=>t.keepData.description=i)},null,512),[[C,t.keepData.description]])])]),rt],32)])])])])}var ut=V(Je,[["render",dt]]),_t=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ut});class pt{async getUserProf(e){const a=await g.get("api/profiles/"+e);l.log(a.data),n.activeProfile=a.data}async getUserKeeps(e){const a=await g.get(`api/profiles/${e}/keeps`);l.log(a.data),n.activeProfileKeeps=a.data}async getUserVaults(e){const a=await g.get(`api/profiles/${e}/vaults`);l.log(a.data),n.activeProfileVaults=a.data}}const R=new pt;const mt={props:{keep:{type:Object,required:!0}},setup(s){const e=T();return{goToProfile(){e.push({name:"Profile",params:{id:s.keep.creator.id}}),console.log(s.keep.creator.id)},async setActive(){try{await A.setActive(s.keep.id),$.getOrCreateInstance(document.getElementById("active-keep")).show()}catch(a){l.log(a),h.toast(a.message)}}}}},vt=["src"],gt={class:"d-flex justify-content-between pt-1"},ht={class:"keep-info text-white fx-bolder"},ft=["src"];function bt(s,e,a,t,c,u){const i=f("ActiveKeepModal"),m=f("Modal");return r(),d(x,null,[o("div",{onClick:e[1]||(e[1]=(..._)=>t.setActive&&t.setActive(..._)),class:"img-container rounded selectable"},[o("img",{title:"See Details",class:"img-fluid rounded elevation-2",src:a.keep.img,alt:""},null,8,vt),o("div",gt,[o("div",ht,[o("h2",null,p(a.keep.name),1)]),o("div",{class:"keep-info-2",onClick:e[0]||(e[0]=O((..._)=>t.goToProfile&&t.goToProfile(..._),["stop"]))},[o("img",{title:"Go To Profile",class:"profile-image",src:a.keep.creator.picture,alt:""},null,8,ft)])])]),b(m,{id:"active-keep"},{body:D(()=>[b(i)]),_:1})],64)}var yt=V(mt,[["render",bt],["__scopeId","data-v-fbbe2574"]]),kt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:yt});const wt="modulepreload",J={},Vt="/",N=function(e,a){return!a||a.length===0?e():Promise.all(a.map(t=>{if(t=`${Vt}${t}`,t in J)return;J[t]=!0;const c=t.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${u}`))return;const i=document.createElement("link");if(i.rel=c?"stylesheet":wt,c||(i.as="script",i.crossOrigin=""),i.href=t,document.head.appendChild(i),c)return new Promise((m,_)=>{i.addEventListener("load",m),i.addEventListener("error",_)})})).then(()=>e())};function xt(s){switch(s){case"./pages/AccountPage.vue":return N(()=>import("./AccountPage.e1759569.js"),["assets/AccountPage.e1759569.js","assets/AccountPage.df03a383.css","assets/vendor.00b2d2ca.js"]);case"./pages/HomePage.vue":return N(()=>import("./HomePage.4ab4ca62.js"),["assets/HomePage.4ab4ca62.js","assets/HomePage.9cce9cfd.css","assets/vendor.00b2d2ca.js"]);case"./pages/ProfilePage.vue":return N(()=>import("./ProfilePage.0de7c2ad.js"),["assets/ProfilePage.0de7c2ad.js","assets/vendor.00b2d2ca.js"]);case"./pages/VaultPage.vue":return N(()=>import("./VaultPage.2609e038.js"),["assets/VaultPage.2609e038.js","assets/vendor.00b2d2ca.js"]);default:return new Promise(function(e,a){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+s)))})}}function j(s){return()=>xt(`./pages/${s}.vue`)}const $t=[{path:"/",name:"Home",component:j("HomePage")},{path:"/profiles/:id",name:"Profile",component:j("ProfilePage")},{path:"/vaults/:id",name:"Vault",component:j("VaultPage")},{path:"/account",name:"Account",component:j("AccountPage"),beforeEnter:re}],Q=le({linkActiveClass:"router-link-active",linkExactActiveClass:"router-link-exact-active",history:ce(),routes:$t});class Kt{async getAccount(){try{const e=await g.get("/account");n.account=e.data}catch(e){l.error("HAVE YOU STARTED YOUR SERVER YET???",e)}}async editAccount(e){const a=await g.put("account",e);l.log(a.data)}async getMyVaults(){const e=await g.get("account/vaults");l.log(e.data),n.myVaults=e.data}}const Z=new Kt,Pt={connection:"connection",connected:"connected",disconnect:"disconnect",authenticate:"authenticate",authenticated:"authenticated",userConnected:"userConnected",userDisconnected:"userDisconnected",error:"error"};class Ct{constructor(e=!1,a=F){}on(e,a){var t;return(t=this.socket)==null||t.on(e,a.bind(this)),this}onConnected(e){l.log("[SOCKET_CONNECTION]",e),this.connected=!0,this.playback()}onAuthenticated(e){l.log("[SOCKET_AUTHENTICATED]",e),this.authenticated=!0,this.playback()}authenticate(e){var a;(a=this.socket)==null||a.emit(Pt.authenticate,e)}onError(e){l.error("[SOCKET_ERROR]",e)}enqueue(e,a){l.log("[ENQUEING_ACTION]",{action:e,payload:a}),this.queue.push({action:e,payload:a})}playback(){l.log("[SOCKET_PLAYBACK]");const e=[...this.queue];this.queue=[],e.forEach(a=>{this.emit(a.action,a.payload)})}emit(e,a=void 0){if(this.requiresAuth&&!this.authenticated)return this.enqueue(e,a);if(!this.connected)return this.enqueue(e,a);this.socket.emit(e,a)}}class Tt extends Ct{constructor(){super();this.on("error",this.onError)}onError(e){h.toast(e.message,"error")}}const X=new Tt,k=de({domain:ke,clientId:we,audience:Ve,useRefreshTokens:!0,onRedirectCallback:s=>{Q.push(s&&s.targetUrl?s.targetUrl:window.location.pathname)}});k.on(k.AUTH_EVENTS.AUTHENTICATED,async function(){g.defaults.headers.authorization=k.bearer,g.interceptors.request.use(St),n.user=k.user,await Z.getAccount(),X.authenticate(k.bearer),await Z.getMyVaults(),l.log(n.account.id)});async function St(s){if(!k.isAuthenticated)return s;const e=k.identity.exp*1e3,a=e<Date.now(),t=e<Date.now()+1e3*60*60*12;return a?await k.loginWithPopup():t&&(await k.getTokenSilently(),g.defaults.headers.authorization=k.bearer,X.authenticate(k.bearer)),s}const At={setup(){return{user:v(()=>n.user),account:v(()=>n.account),async login(){k.loginWithPopup()},async logout(){k.logout({returnTo:window.location.origin})}}}},ee=s=>(E("data-v-67e4ed30"),s=s(),M(),s),It={class:"navbar-text"},Et={key:1,class:"dropdown my-2 my-lg-0 bg-secondary rounded"},Mt={class:"dropdown-toggle selectable","data-bs-toggle":"dropdown","aria-expanded":"false",id:"authDropdown"},Ot={key:0},Dt=["src"],Ut={class:"mx-4 text-white"},Nt={class:"dropdown-menu p-0 list-group w-100","aria-labelledby":"authDropdown"},jt=ee(()=>o("div",{class:"list-group-item list-group-item-action hoverable"}," Manage Account ",-1)),Bt=ee(()=>o("i",{class:"mdi mdi-logout"},null,-1)),qt=P(" logout "),Lt=[Bt,qt];function Rt(s,e,a,t,c,u){const i=f("router-link");return r(),d("span",It,[t.user.isAuthenticated?(r(),d("div",Et,[o("div",Mt,[t.account.picture?(r(),d("div",Ot,[o("img",{src:t.account.picture,alt:"account photo",height:"50",class:"rounded"},null,8,Dt),o("span",Ut,p(t.account.name),1)])):S("",!0)]),o("div",Nt,[b(i,{to:{name:"Account"}},{default:D(()=>[jt]),_:1}),o("div",{class:"list-group-item list-group-item-action hoverable text-danger",onClick:e[1]||(e[1]=(...m)=>t.logout&&t.logout(...m))},Lt)])])):(r(),d("button",{key:0,class:"btn selectable text-success lighten-30 text-uppercase my-2 my-lg-0",onClick:e[0]||(e[0]=(...m)=>t.login&&t.login(...m))}," Login "))])}var zt=V(At,[["render",Rt],["__scopeId","data-v-67e4ed30"]]),Ht=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:zt});const Gt={setup(){return{}}},Yt={class:"modal fade half-black",tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true"},Wt={class:"modal-dialog modal-xl modal-dialog-centered",role:"document"},Ft={class:"modal-content half-black border-0"},Jt={class:"modal-body p-0"};function Qt(s,e,a,t,c,u){return r(),d("div",Yt,[o("div",Wt,[o("div",Ft,[o("div",Jt,[ue(s.$slots,"body")])])])])}var Zt=V(Gt,[["render",Qt]]),Xt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Zt});const eo={setup(){const s=B("");return{search:s,async searchKeep(){try{await A.searchKeep(s.value),document.getElementById("search").reset()}catch(e){l.log(e),h.toast(e.message)}}}}},te=s=>(E("data-v-5198717c"),s=s(),M(),s),to={class:"navbar navbar-expand-lg bg-info px-3 justify-content-between"},oo=te(()=>o("h1",{class:"title"},"Keepr",-1)),ao={class:"text-center input-group"},so=te(()=>o("button",{type:"submit",class:"btn bg-white border"},[o("i",{class:"mdi mdi-magnify"})],-1));function no(s,e,a,t,c,u){const i=f("router-link"),m=f("Login");return r(),d("nav",to,[o("div",null,[b(i,{class:"navbar-brand d-flex",to:{name:"Home"}},{default:D(()=>[oo]),_:1})]),o("form",{onSubmit:e[1]||(e[1]=O((..._)=>t.searchKeep&&t.searchKeep(..._),["prevent"])),id:"search",action:""},[o("div",ao,[K(o("input",{type:"text",class:"form-control input bg-white",placeholder:"Search...","onUpdate:modelValue":e[0]||(e[0]=_=>t.search=_)},null,512),[[C,t.search]]),so])],32),o("div",null,[b(m)])])}var io=V(eo,[["render",no],["__scopeId","data-v-5198717c"]]),lo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:io});class co{async getById(e){const a=await g.get("api/vaults/"+e);l.log(a.data),n.activeVault=a.data}async createVault(e){e.isPrivate!=!0&&(e.isPrivate=!1);const a=await g.post("api/vaults",e);l.log(a.data),n.myVaults.push(a.data),n.activeProfileVaults.push(a.data)}async deleteVault(e){const a=await g.delete("api/vaults/"+e);l.log(a.data),n.myVaults=n.myVaults.filter(t=>t.id!=e)}}const z=new co;const ro={setup(){const s=Y(),e=T();return _e(async()=>{try{await R.getUserProf(s.params.id),await R.getUserKeeps(s.params.id),await R.getUserVaults(s.params.id)}catch(a){l.log(a),h.toast(a.message)}}),{async goToVault(a){try{await z.getById(a),e.push({name:"Vault",params:{id:this.activeVault.id}})}catch(t){e.push({name:"Home"}),l.log(t),h.toast(t.message)}},async setActive(a){try{await A.setActive(a),$.getOrCreateInstance(document.getElementById("active-keep")).show()}catch(t){l.log(t),h.toast(t.message)}},profile:v(()=>n.activeProfile),vault:v(()=>n.activeProfileVaults),keep:v(()=>n.activeProfileKeeps),account:v(()=>n.account),myVaults:v(()=>n.myVaults),activeVault:v(()=>n.activeVault)}}},uo={class:"row d-flex m-5"},_o={class:"col-md-2 text-center"},po=["src"],mo={key:0,class:"col-md-10 ps-0 header"},vo={class:"f-20"},go={class:"f-20"},ho={class:"f-20"},fo={key:1,class:"col-md-10 ps-0 header"},bo={class:"f-20"},yo={class:"f-20"},ko={class:"f-20"},wo={class:"row px-5 pt-5 mx-4 mb-3 create"},Vo={class:"d-flex"},xo=P(" Vaults "),$o={key:0,title:"Create Vault",class:"mdi mdi-plus text-info",type:"button","data-bs-toggle":"modal","data-bs-target":"#vault"},Ko={key:0,class:"media-scroller"},Po=["onClick","src"],Co={class:"vault-name text-start fs-5 text-white"},To={key:1,class:"media-scroller"},So=["onClick","src"],Ao={class:"row px-5 mx-4 pt-5 mb-3 create"},Io=P(" Keeps "),Eo={key:0,title:"Create Keep",class:"mdi mdi-plus text-info",type:"button","data-bs-toggle":"modal","data-bs-target":"#create-keep"},Mo={class:"masonry-frame pb-4"},Oo=["onClick"],Do=["src"],Uo={class:"vault-name ms-2 fs-5 text-white"};function No(s,e,a,t,c,u){const i=f("VaultModal"),m=f("CreateKeepModal"),_=f("ActiveKeepModal"),w=f("Modal");return r(),d(x,null,[o("div",uo,[o("div",_o,[o("img",{title:"Profile Img",class:"profile-img",src:t.profile.picture,alt:""},null,8,po)]),t.account.id==t.profile.id?(r(),d("div",mo,[o("p",vo,[o("b",null,p(t.profile.name),1)]),o("p",go,[o("b",null,"Vaults: "+p(t.myVaults.length),1)]),o("p",ho,[o("b",null,"Keeps: "+p(t.keep.length),1)])])):(r(),d("div",fo,[o("p",bo,[o("b",null,p(t.profile.name),1)]),o("p",yo,[o("b",null,"Vaults: "+p(t.vault.length),1)]),o("p",ko,[o("b",null,"Keeps: "+p(t.keep.length),1)])]))]),o("div",wo,[o("div",Vo,[o("h1",null,[xo,t.account.id==t.profile.id?(r(),d("i",$o)):S("",!0)])])]),t.account.id==t.profile.id?(r(),d("div",Ko,[(r(!0),d(x,null,I(t.myVaults,y=>(r(),d("div",{class:"my-2 d-flex justify-content-evenly vault-img pictures mx-3",key:y.img},[o("img",{title:"Go To Vault",onClick:H=>t.goToVault(y.id),class:"img-fluid rounded selectable elevation-2",src:y.img,alt:""},null,8,Po),o("div",Co,p(y.name),1)]))),128))])):(r(),d("div",To,[(r(!0),d(x,null,I(t.vault,y=>(r(),d("div",{class:"my-2 d-flex justify-content-evenly vault-img pictures mx-3",key:y.img},[o("img",{title:"Go To Vault",onClick:H=>t.goToVault(y.id),class:"img-fluid vault-img selectable elevation-2",src:y.img,alt:""},null,8,So)]))),128))])),o("div",Ao,[o("h1",null,[Io,t.account.id==t.profile.id?(r(),d("i",Eo)):S("",!0)])]),o("div",Mo,[(r(!0),d(x,null,I(t.keep,y=>(r(),d("div",{class:"m-1 mb-3",key:y.img},[o("div",{onClick:H=>t.setActive(y.id),class:"vault-img pictures"},[o("img",{title:"Open Modal",class:"img-fluid selectable rounded elevation-2",src:y.img,alt:""},null,8,Do),o("div",Uo,p(y.name),1)],8,Oo)]))),128))]),b(i),b(m),b(w,{id:"active-keep"},{body:D(()=>[b(_)]),_:1})],64)}var jo=V(ro,[["render",No],["__scopeId","data-v-f75b32f0"]]),Bo=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:jo});const qo={setup(){const s=T();return{async deleteVaultKeep(e){try{await h.confirm()&&(l.log(n.activeVaultKeeps),await q.deleteVaultKeep(e))}catch(a){l.log(a),h.toast(a.message)}},goToProfile(){$.getOrCreateInstance(document.getElementById("active-keep")).hide(),s.push({name:"Profile",params:{id:n.activeKeep.creatorId}})},vault:v(()=>n.activeVault),keep:v(()=>n.activeKeep),account:v(()=>n.account),vaultKeep:v(()=>n.activeVaultKeeps)}}},oe=s=>(E("data-v-4377662d"),s=s(),M(),s),Lo={class:"container"},Ro={class:"row"},zo={class:"col-md-6 p-0"},Ho=["src"],Go={class:"col-md-6"},Yo={class:"text-center pt-3 fs-5"},Wo=oe(()=>o("i",{title:"Total Views",class:"mdi mdi-eye-outline text-info pe-1"},null,-1)),Fo=oe(()=>o("i",{title:"Total Kept's",class:"mdi mdi-book-outline text-info ps-5 pe-1"},null,-1)),Jo={class:"text-center pt-4"},Qo={class:"text-center description scrollable-y"},Zo={class:"pb-3 mx-3 border-1 border-bottom border-secondary"},Xo={class:"text-center"},ea={class:"pt-2"},ta=["src"],oa={class:"ms-2"};function aa(s,e,a,t,c,u){var i,m;return r(),d("div",Lo,[o("div",Ro,[o("div",zo,[o("img",{class:"img-fluid img-keep",src:t.keep.img,alt:""},null,8,Ho)]),o("div",Go,[o("div",Yo,[Wo,P(p(t.keep.views),1),Fo,P(p(t.keep.kept),1)]),o("div",Jo,[o("h1",null,p(t.keep.name),1)]),o("div",Qo,[o("div",Zo,p(t.keep.description),1)]),o("div",Xo,[o("div",ea,[o("img",{title:"Go To Profile",onClick:e[0]||(e[0]=(..._)=>t.goToProfile&&t.goToProfile(..._)),class:"img-fluid img-profile selectable",src:(i=t.keep.creator)==null?void 0:i.picture,alt:""},null,8,ta),o("span",oa,p((m=t.keep.creator)==null?void 0:m.name),1)])])])])])}var sa=V(qo,[["render",aa],["__scopeId","data-v-4377662d"]]),na=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:sa});const ia={setup(){const s=Y(),e=T();return{async deleteVault(){try{await h.confirm()&&(await z.deleteVault(s.params.id),e.push({name:"Profile",params:{id:n.account.id}}))}catch(a){l.log(a),h.toast(a.message)}},async deleteVaultKeep(a){try{await h.confirm()&&await q.deleteVaultKeep(a)}catch(t){l.log(t),h.toast(t.message)}},async setActive(a){try{await A.setActive(a),$.getOrCreateInstance(document.getElementById("active-keep")).show()}catch(t){l.log(t),h.toast(t.message)}},vaultKeeps:v(()=>n.activeVaultKeeps),vault:v(()=>n.activeVault),account:v(()=>n.account)}}},la=s=>(E("data-v-ecaa39da"),s=s(),M(),s),ca={class:"container"},ra={class:"row"},da={class:"mt-3 pb-4"},ua={class:"col-md-12 m-3 me-0 mb-0 pt-5 phone-view d-flex justify-content-between"},_a={class:"m-3 me-0 phone-view"},pa={class:"masonry-frame mt-5"},ma=["onClick"],va=["onClick"],ga=la(()=>o("i",{class:"mdi mdi-trash-can-outline"},null,-1)),ha=[ga],fa=["src"],ba={class:"keep-name text-white fs-4"},ya={class:"keep-creator"},ka=["src"];function wa(s,e,a,t,c,u){const i=f("VaultKeepModal"),m=f("Modal");return r(),d(x,null,[o("div",ca,[o("div",ra,[o("div",da,[o("div",ua,[o("h1",null,p(t.vault.name),1),t.vault.creatorId==t.account.id?(r(),d("button",{key:0,title:"Delete Vault",onClick:e[0]||(e[0]=(..._)=>t.deleteVault&&t.deleteVault(..._)),class:"btn btn-danger px-4 me-4"}," Delete Vault ")):S("",!0)]),o("div",_a,[o("h2",null,"Keeps: "+p(t.vaultKeeps.length),1)])])]),o("div",pa,[(r(!0),d(x,null,I(t.vaultKeeps,_=>(r(),d("div",{key:_.id},[o("div",{onClick:w=>t.setActive(_.id),class:"pictures keep-img keep"},[t.vault.creatorId==t.account.id?(r(),d("button",{key:0,title:"Delete Vault Keep phone-view-2",onClick:O(w=>t.deleteVaultKeep(_.vaultKeepId),["stop"]),class:"btn btn-info keep-button"},ha,8,va)):S("",!0),o("img",{class:"img-fluid rounded selectable m-2 elevation-2",src:_.img,alt:""},null,8,fa),o("div",ba,p(_.name),1),o("div",ya,[o("img",{class:"img-fluid creator-img selectable",src:_.creator.picture,alt:""},null,8,ka)])],8,ma)]))),128))])]),b(m,{id:"active-keep"},{body:D(()=>[b(i)]),_:1})],64)}var Va=V(ia,[["render",wa],["__scopeId","data-v-ecaa39da"]]),xa=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Va});const $a={setup(){const s=B({}),e=T();return{vaultData:s,async createVault(){try{await z.createVault(s.value),$.getOrCreateInstance(document.getElementById("vault")).hide(),document.getElementById("vault-form").reset(),e.push({name:"Profile",params:{id:n.account.id}})}catch(a){l.log(a),h.toast(a.message)}},account:v(()=>n.account)}}},Ka={class:"modal fade half-black",tabindex:"-1",role:"dialog","aria-labelledby":"modelTitleId","aria-hidden":"true",id:"vault"},Pa={class:"modal-dialog",role:"document"},Ca={class:"modal-content half-black border-2 border-info"},Ta=o("div",{class:"modal-header bg text-dark"},[o("h3",{class:"modal-title m-2"},"New Vault"),o("button",{type:"button",class:"btn-close btn btn-light bg-light","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Sa={class:"modal-body m-3"},Aa={class:"row"},Ia={class:"col-md-12"},Ea=o("label",{for:"title"},"Title",-1),Ma={class:"col-md-12 mt-4"},Oa=o("label",{for:"Img"},"Image Url",-1),Da={class:"col-md-12 mt-4"},Ua={class:"pt-2 d-flex"},Na=o("span",{class:"ps-2"},"Private?",-1),ja=o("p",{class:"fw-lighter text-secondary"}," Private vaults can only be seen by you ",-1),Ba=o("div",{class:"text-end"},[o("button",{type:"submit",class:"btn btn-info"},"Create")],-1);function qa(s,e,a,t,c,u){return r(),d("div",Ka,[o("div",Pa,[o("div",Ca,[Ta,o("div",Sa,[o("form",{onSubmit:e[4]||(e[4]=O((...i)=>t.createVault&&t.createVault(...i),["prevent"])),id:"vault-form"},[o("div",Aa,[o("div",Ia,[Ea,K(o("input",{required:"true",class:"form-control bg-white",placeholder:"Title..",type:"text","onUpdate:modelValue":e[0]||(e[0]=i=>t.vaultData.name=i)},null,512),[[C,t.vaultData.name]])]),o("div",Ma,[Oa,K(o("input",{required:"true",class:"form-control bg-white",placeholder:"URL...",type:"text","onUpdate:modelValue":e[1]||(e[1]=i=>t.vaultData.img=i)},null,512),[[C,t.vaultData.img]])]),o("div",Da,[K(o("textarea",{required:"true",class:"w-100 form-control bg-white",placeholder:"Description...",name:"",id:"",rows:"4","onUpdate:modelValue":e[2]||(e[2]=i=>t.vaultData.description=i)},null,512),[[C,t.vaultData.description]])]),o("div",Ua,[K(o("input",{type:"checkbox",name:"",id:"","onUpdate:modelValue":e[3]||(e[3]=i=>t.vaultData.isPrivate=i)},null,512),[[pe,t.vaultData.isPrivate]]),Na]),ja]),Ba],32)])])])])}var La=V($a,[["render",qa]]),Ra=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:La});function za(s){Object.entries({"./components/ActiveKeepModal.vue":Fe,"./components/CreateKeepModal.vue":_t,"./components/Keep.vue":kt,"./components/Login.vue":Ht,"./components/Modal.vue":Xt,"./components/Navbar.vue":lo,"./components/Profile.vue":Bo,"./components/VaultKeepModal.vue":na,"./components/VaultKeeps.vue":xa,"./components/VaultModal.vue":Ra}).forEach(([a,t])=>{const c=t.name||a.substr(a.lastIndexOf("/")+1).replace(/\.\w+$/,"");s.component(c,t.default)})}const ae=me(ye);za(ae);ae.use(Q).mount("#app");export{n as A,h as P,V as _,Z as a,z as b,A as k,l,q as v};
